%h1= @cloud_application.name
.row
  .col-lg-6
    %p
      %h5
        %b Blueprint:
      - if !@cloud_application.blueprint.nil?
        = link_to(@cloud_application.blueprint.name, @cloud_application.blueprint)
        = markdown(@cloud_application.body)

  .col-lg-6
    - provider_costs = @cloud_application.provider_costs
    - unless provider_costs.nil?
      %p
        %h5
          %b Deployment Costs:
        %ul
          - provider_costs.each do |hash|
            %li
              = link_to hash['provider_name'] ,provider_recommendations_cloud_application_path(@cloud_application.id, hash['provider_id'])
              = number_to_currency hash['cost']

%h2 Components
%ul
  - @cloud_application.concrete_components.each do |component|
    %li= link_to component.name, "#concrete_component_#{component.id}"


- @cloud_application.concrete_components.each do |component|
  .concrete-component
    %section[component]
      %h1
        = component.name
        - if component.component
          %small
            (#{link_to(component.component.name, component.component)})
      %hr
      = markdown(component.body)

      %h4 Target SLO's and Deployments
      - component.slo_sets.each do |slo_set|
        SLOs
        %ul
          - slo_set.humanize.each do |slo|
            %li= slo.capitalize






%p
.actions
  -#= link_to 'Show details', @cloud_application, class: 'btn btn-link'
  = link_to 'Edit', edit_cloud_application_path(@cloud_application), class: 'btn btn-warning'
  = link_to 'Copy', copy_cloud_applications_path(@cloud_application), class: 'btn btn-success'
  = link_to 'Find optimal deployments', recommendations_cloud_application_path(@cloud_application), method: :get, data: { confirm: 'Computing recommendations will take some time. Are you sure you want this?' }, class: 'btn btn-success'
  -#= link_to 'Monitor deployment', nil, class: 'btn btn-primary'
  = link_to 'Destroy', @cloud_application, :method => :delete, :data => { :confirm => 'Are you sure?' }, class: 'btn btn-danger'
  = link_to 'Back', cloud_applications_path, class: 'btn btn-link'
