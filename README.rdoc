= The Cloud Stove

{<img src="https://app.wercker.com/status/b08c91369210358a613023e743954dcb/s" alt="wercker status">}[https://app.wercker.com/project/bykey/b08c91369210358a613023e743954dcb]

The Cloud Stove gives users deployment recommendations for their cloud
applications. Application instances are derived from generic blueprints and
enriched with the specific characteristics and requirements of the application
to be deployed. Blueprints are generic application scaffolds that represent
different application architectures to capture relevant differences in overall
deployment strategies. Deployment recommendations are created by optimizing the
use of available provider offerings with respect to the captured application
specifications and requirements.

Frontend: https://github.com/inz/cloud-stove-ui

== Contributing to the Cloud Stove

=== Setting Up a Development Environment

* Clone the Cloud Stove repository
    git clone git@github.com:inz/cloud-stove.git

* Install an appropriate Ruby version (the currently required version is
  specified in {.ruby-version}[link:.ruby-version]). Install Ruby using
  {rbenv}[http://rbenv.org] or {RVM}[https://rvm.io].
  
  If you're using rbenv, run 
  <code>rbenv install $(cat cloud-stove/.ruby-version)</code>.
  
  For RVM, run <code>rvm install $(cat cloud-stove/.ruby-version)</code>.

* Install <code>phantomjs</code> for headless UI tests: http://phantomjs.org/download.html

* Set up dependencies and database
    cd cloud-stove
    bin/setup

* Install the {or-tools MiniZinc distribution}[https://github.com/inz/minizinc-dist/releases]
  and add <code>vendor/minizinc/bin</code> to your PATH:

    export PATH=/path/to/or-tools-minizinc/vendor/minizinc/bin:$PATH

* Start the Rails server and job worker
    rails s
    rake jobs:work


=== Making Changes

See the {contribution guide}[link:CONTRIBUTING.md]

== CI & Deployment

Every push to the GitHub repository will initiate a CI build on
{wercker}[https://app.wercker.com/applications/5696592e29aa0a563912fe58].
The current status of our CI builds is shown below.

{<img src="https://app.wercker.com/status/b08c91369210358a613023e743954dcb/m" alt="wercker status">}[https://app.wercker.com/project/bykey/b08c91369210358a613023e743954dcb]


Successful CI builds are then deployed to a 
{Heroku pipeline}[https://dashboard.heroku.com/pipelines/1296b077-f98d-4095-8352-09b35444cc15]
with a staging application at https://staging.backend.thestove.io.
To inspect and modify the staging app's configuration use the 
{application dashboard}[https://dashboard.heroku.com/apps/fathomless-escarpment-2251-eu/].

The app uses the {rake-deploy-tasks}[https://github.com/gunpowderlabs/buildpack-ruby-rake-deploy-tasks] buildpack to automatically run pending migrations on deploy, as well as the {vendorbinaries}[https://github.com/peterkeen/heroku-buildpack-vendorbinaries] buildpack to pull in a custom {MiniZinc release}[https://github.com/inz/minizinc-dist] for generating recommendations.

== Communication & Organization

Planning and development of the Cloud Stove is coordinated using the GitHub {wiki}[https://github.com/inz/cloud-stove/wiki], {issues}[https://github.com/inz/cloud-stove/issues], {milestones}[https://github.com/inz/cloud-stove/milestones], and {pull requests}[https://github.com/inz/cloud-stove/pulls]. 

In the {Cloud Stove Roadmap}[https://github.com/inz/cloud-stove/wiki/Roadmap] we discuss upcoming features and define milestones and issues to implement them.

Daily communication and coordination happens on Slack:

* in <code>#cloud-stove</code> on https://cloudguysseal.slack.com

If you don't have access to any of the resources mentioned above, get in touch
with {Christian}[mailto:christian@thestove.io].
